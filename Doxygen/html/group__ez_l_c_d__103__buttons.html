<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ezLCD+103 Driver: Buttons</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ezLCD+103 Driver
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Driver code for the ezLCD+103</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Buttons</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga3fc35c16ecc254c03c2ad1171f346390"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ez_l_c_d__103__buttons.html#ga3fc35c16ecc254c03c2ad1171f346390">ezLCD_button_state_t</a> { <b>EZLCD_BUTTON_UP</b> = 1, 
<b>EZLCD_BUTTON_DOWN</b>, 
<b>EZLCD_BUTTON_DISABLED</b>, 
<b>EZLCD_BUTTON_INVISIBLE</b>
 }</td></tr>
<tr class="separator:ga3fc35c16ecc254c03c2ad1171f346390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga443e2c0a5a29b361119b0fcad0841362"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ez_l_c_d__103__buttons.html#ga443e2c0a5a29b361119b0fcad0841362">ezLCD_touch_protocol_t</a> { <b>ezButton</b> = 1, 
<b>cuButton</b> = 2, 
<b>calibratedXY</b> = 64
 }</td></tr>
<tr class="separator:ga443e2c0a5a29b361119b0fcad0841362"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga02b4acd2c0544c809330c2bcc8350e35"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ez_l_c_d__103__buttons.html#ga02b4acd2c0544c809330c2bcc8350e35">ezLCD_button_define_long</a> (<a class="el" href="group__ez_l_c_d__103__common.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> id, <a class="el" href="group__ez_l_c_d__103__buttons.html#ga3fc35c16ecc254c03c2ad1171f346390">ezLCD_button_state_t</a> state, <a class="el" href="group__ez_l_c_d__103__common.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> index_up, <a class="el" href="group__ez_l_c_d__103__common.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> index_down, <a class="el" href="group__ez_l_c_d__103__common.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> index_disabled, <a class="el" href="group__ez_l_c_d__103__common.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> x, <a class="el" href="group__ez_l_c_d__103__common.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> y, <a class="el" href="group__ez_l_c_d__103__common.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> width, <a class="el" href="group__ez_l_c_d__103__common.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> height)</td></tr>
<tr class="separator:ga02b4acd2c0544c809330c2bcc8350e35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f871a762082490a6541a935cf89d757"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ez_l_c_d__103__buttons.html#ga3f871a762082490a6541a935cf89d757">ezLCD_set_touch_protocol</a> (<a class="el" href="group__ez_l_c_d__103__buttons.html#ga443e2c0a5a29b361119b0fcad0841362">ezLCD_touch_protocol_t</a> protocol)</td></tr>
<tr class="separator:ga3f871a762082490a6541a935cf89d757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a75d5eee32dcdaa37e84543ba495409"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ez_l_c_d__103__buttons.html#ga7a75d5eee32dcdaa37e84543ba495409">ezLCD_set_button_state</a> (<a class="el" href="group__ez_l_c_d__103__common.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> id, <a class="el" href="group__ez_l_c_d__103__buttons.html#ga3fc35c16ecc254c03c2ad1171f346390">ezLCD_button_state_t</a> state)</td></tr>
<tr class="separator:ga7a75d5eee32dcdaa37e84543ba495409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2b1f0e702bff760d7f47440b3b17d2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ez_l_c_d__103__buttons.html#gad2b1f0e702bff760d7f47440b3b17d2d">ezLCD_calibrate_screen</a> ()</td></tr>
<tr class="separator:gad2b1f0e702bff760d7f47440b3b17d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2703acb78f30f5f5841e57bc4fc3433d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ez_l_c_d__103__buttons.html#ga2703acb78f30f5f5841e57bc4fc3433d">ezLCD_deactivate_all_buttons</a> ()</td></tr>
<tr class="separator:ga2703acb78f30f5f5841e57bc4fc3433d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga782f444d072ce7404f5c83f3f0974d28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ez_l_c_d__103__buttons.html#ga782f444d072ce7404f5c83f3f0974d28">ezLCD_all_buttons_up</a> ()</td></tr>
<tr class="separator:ga782f444d072ce7404f5c83f3f0974d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21ff3ce106612692fd840bc2bf8bde82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ez_l_c_d__103__common.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ez_l_c_d__103__buttons.html#ga21ff3ce106612692fd840bc2bf8bde82">ezLCD_wait_for_event</a> ()</td></tr>
<tr class="separator:ga21ff3ce106612692fd840bc2bf8bde82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This header contains functions used for configuring, placing, and polling buttons on the screen. It is <b>strongly recommended that the user read section 4 <a href="External Commands Manual.pdf" target="_blank">of the ezLCD External Commands manual before continuing</a></b></p>
<p>As the manual states; there are three different ways one can interact with the touch capabilities of the display. Each touch protocol (ezButton, cuButton, or calibratedXY) have different which may be desirable for different applications. <b>Before the touch screen can begin sending data the user must first choose a button protocol</b></p>
<ul>
<li><p class="startli">The ezButton protocol only sends data back to the screen when an event occurs. There are two types of events: when a button is pressed and when a button is released. The ezButton only broadcasts these events ONCE when it occurs and never again (until it occurs again). This is the recommended protocol for new users since it is the easiest one to work with. The data packet sent by the display at the occurrence of an event contains two parts: an ID number and a state as shown below.</p>
<div class="image">
<img src="ezButton.png" alt="ezButton.png"/>
<div class="caption">
ezButton event packet</div></div>
</li>
<li>The cuButton protocol is similar to the ezButton except for some key differences.<ul>
<li>It broadcasts event information 5 to 20 times per second.</li>
<li><p class="startli">In the case of the cuButton, there are also two kinds of events: button down and no button pressed. The cuButton event packet is shown below.</p>
<div class="image">
<img src="cuButton.png" alt="cuButton.png"/>
<div class="caption">
cuButton event packet</div></div>
<p> When no button is pressed, the entire packet (status and ID fields) will contain all logic 1's. Otherwise, when a button is pressed, the status bits will be <b>01</b> and the ID number is dependent on the ID number chosen by the <a class="el" href="group__ez_l_c_d__103__buttons.html#ga02b4acd2c0544c809330c2bcc8350e35">ezLCD_button_define_long()</a> function.</p>
</li>
<li>The calibratedXY is the most complex protocol to work with and is not recommended for beginners. In this mode, the entire screen "becomes a
      button" independent of any actual buttons placed on the screen. The ezLCD will broadcast the XY coordinates of the touched pixel on the screen in multiple packets. For this protocol, it is recommended that the user read section 4.1.3 of the <a href="External Commands Manual.pdf" target="_blank">ezLCD External Commands manual.</a> This protocol is very well documented and is relatively easy to understand after reading this section. This protocol may be useful for things such as drawing objects to the screen with one's finger.</li>
</ul>
</li>
</ul>
<p>Once the user has selected a protocol, <b>only then</b> may they begin to place buttons on the screen. If the user places buttons on the screen before setting a protocol, the buttons may be inoperable and may need to be redrawn. See the <a class="el" href="group__ez_l_c_d__103__buttons.html#ga02b4acd2c0544c809330c2bcc8350e35">ezLCD_button_define_long()</a> documentation for insight on button images and placement.</p>
<p>Once a touch protocol has been selected and a button is placed on the screen (in the case of ezButton and cuButton), we are ready to begin sensing events. Unfortunately, the only way to detect button or screen presses is by polling the SPI data register. There is no additional signal that can be used for interrupts. So in order to determine when a button has been pressed, the user must send no-op commands (the number 0) to the screen on the MOSI line and then read the data that comes back on the MISO line. This is demonstrated by the <a class="el" href="group__ez_l_c_d__103__buttons.html#ga21ff3ce106612692fd840bc2bf8bde82">ezLCD_wait_for_event()</a> function.</p>
<p>After receiving data from the display, the microcontroller must choose what to do based on which button was pressed or what portion of the screen was pressed. While there may be other external activities (such as lighting an LED) that should be performed at the touch of the screen; one must realize that the ezLCD does not automatically replace the EZLCD_BUTTON_UP image with the the EZLCD_BUTTON_DOWN image or vice-versa. Again, read the documentation for <a class="el" href="group__ez_l_c_d__103__buttons.html#ga02b4acd2c0544c809330c2bcc8350e35">ezLCD_button_define_long()</a> if you do not understand what these states are. Upon receiving an event packet, the microcontroller must then instruct the ezLCD to replace the EZLCD_BUTTON_UP image with the EZLCD_BUTTON_DOWN image or vice-versa using the <a class="el" href="group__ez_l_c_d__103__buttons.html#ga7a75d5eee32dcdaa37e84543ba495409">ezLCD_set_button_state()</a> function. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga3fc35c16ecc254c03c2ad1171f346390"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__ez_l_c_d__103__buttons.html#ga3fc35c16ecc254c03c2ad1171f346390">ezLCD_button_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enumerated types used by the ezLCD_set_EZLCD_BUTTON_state() and the <a class="el" href="group__ez_l_c_d__103__buttons.html#ga02b4acd2c0544c809330c2bcc8350e35">ezLCD_button_define_long()</a> functions to defining a button state. </p>

</div>
</div>
<a class="anchor" id="ga443e2c0a5a29b361119b0fcad0841362"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__ez_l_c_d__103__buttons.html#ga443e2c0a5a29b361119b0fcad0841362">ezLCD_touch_protocol_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enumerated types used by the <a class="el" href="group__ez_l_c_d__103__buttons.html#ga3f871a762082490a6541a935cf89d757">ezLCD_set_touch_protocol()</a> function to determine the button mode. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga782f444d072ce7404f5c83f3f0974d28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ezLCD_all_buttons_up </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function places all buttons in their UP state and consequently draws their EZLCD_BUTTON_UP images to the screen.</p>
<dl class="section user"><dt>Assumptions </dt><dd><ul>
<li>The user has initialized the MCU's SPI interface with the <a class="el" href="group__ez_l_c_d__103__common.html#gaf5c3b2dedc950d34e0381946fbb32428">EZLCD_INIT_SPI()</a> macro.</li>
<li>The user has set the MCU's SPI pins to inputs and outputs appropriately. <br/>
<br/>
<ul>
<li>SS_BAR = OUTPUT</li>
<li>SCK = OUTPUT</li>
<li>MOSI = OUTPUT</li>
<li>MISO = INPUT </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga02b4acd2c0544c809330c2bcc8350e35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ezLCD_button_define_long </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ez_l_c_d__103__common.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ez_l_c_d__103__buttons.html#ga3fc35c16ecc254c03c2ad1171f346390">ezLCD_button_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ez_l_c_d__103__common.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&#160;</td>
          <td class="paramname"><em>index_up</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ez_l_c_d__103__common.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&#160;</td>
          <td class="paramname"><em>index_down</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ez_l_c_d__103__common.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&#160;</td>
          <td class="paramname"><em>index_disabled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ez_l_c_d__103__common.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ez_l_c_d__103__common.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ez_l_c_d__103__common.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ez_l_c_d__103__common.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defines a button and places it on the <b>current frame</b>.</p>
<p>A button consists of an ID, up to three images, an XY coordinate, and a width and height.</p>
<ul>
<li>The button ID is used to distinguish it from the other buttons on the screen. When the screen is touched, it will send the button's ID and its state (provided that the touch protocol is set to ezButton or cuButton) in a one-byte packet. With this information, the microcontroller can decide what to do next. <br/>
<br/>
</li>
<li>The 3 images are the visible part of the button. These are regular bitmap images which can be designed in an image editor or an online button making utility such as <a href="http://www.dabuttonfactory.com">Da Button factory</a>. Each of these images represents how the button appears at each state (EZLCD_BUTTON_UP, EZLCD_BUTTON_DOWN, or EZLCD_BUTTON_DISABLED). So, to give the user indication that they pressed a button, the programmer may want to make the image for the EZLCD_BUTTON_DOWN state a lighter color than the image for the EZLCD_BUTTON_UP state. They may also want to make the image for the EZLCD_BUTTON_DISABLED state a grayscale color to indicate that the button is deactivated and will not do anything if pressed. However, this is completely optional (though entirely recommended) . A button may use the same image for all three button states. However, this makes it difficult to give the user proper feedback. If a button image for a particular state does not exist, the value 0xFF is used instead of an index. It should be noted that there is a fourth button state, EZLCD_BUTTON_INVISIBLE also exists, which removes the button from the screen. <br/>
<br/>
</li>
<li>As with placing any image on the screen, we must indicate an XY coordinate for the button's images. Like most bitmap images we have placed on the screen so far, this is done from the top-left corner of the bitmap image. <br/>
<br/>
</li>
<li><p class="startli">In order to specify the touch zone of the button, we must tell the display how wide and tall we want this area to be. Our button images may be larger or smaller than these numbers.</p>
<p class="startli"><b>NOTE:</b> Just because a button was placed on the drawing frame and not the display frame does not mean that the button is not active. The button will still be active and will still respond to touch in its area of placement even if it is not visible on the screen because it has been placed on another frame.</p>
<dl class="section user"><dt>Parameters</dt><dd><ul>
<li><em>id</em> = Unique ID number which differentiates the button from others on the screen. This number is in the set [0,63].</li>
<li><em>state</em> = The initial state of the button</li>
<li><em>index_up</em> = Index of the button's <b>UP</b> image on the ROM as defined in <b>UserRom.txt</b>. If no image exists, this value should be set to 0xFFFF.</li>
<li><em>index_down</em> = Index of the button's <b>DOWN</b> image on the ROM as defined in <b>UserRom.txt</b>. If no image exists, this value should be set to 0xFFFF.</li>
<li><em>index_disabled</em> = Index of the button's <b>DISABLED</b> image on the ROM as defined in <b>UserRom.txt</b>. If no image exists, this value should be set to 0xFFFF.</li>
<li><em>x</em> = X coordinate of the buttons top-left corner</li>
<li><em>y</em> = Y coordinate of the buttons top-left corner</li>
<li><em>width</em> = Button width</li>
<li><em>height</em> = Button height</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Assumptions</dt><dd><ul>
<li>The chosen ID number is unique and is from 0 to 63 only.</li>
<li><a class="el" href="group__ez_l_c_d__103__buttons.html#ga3f871a762082490a6541a935cf89d757">ezLCD_set_touch_protocol()</a> has been called at least once.</li>
<li>The user has initialized the MCU's SPI interface with the <a class="el" href="group__ez_l_c_d__103__common.html#gaf5c3b2dedc950d34e0381946fbb32428">EZLCD_INIT_SPI()</a> macro.</li>
<li>The user has set the MCU's SPI pins to inputs and outputs appropriately. <br/>
<br/>
<ul>
<li>SS_BAR = OUTPUT</li>
<li>SCK = OUTPUT</li>
<li>MOSI = OUTPUT</li>
<li>MISO = INPUT </li>
</ul>
</li>
</ul>
</dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="gad2b1f0e702bff760d7f47440b3b17d2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ezLCD_calibrate_screen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function sends a command to the screen to enter its built in calibration routine and then waits until the screen has been successfully calibrated.</p>
<dl class="section user"><dt>Assumptions </dt><dd><ul>
<li>The user has initialized the MCU's SPI interface with the <a class="el" href="group__ez_l_c_d__103__common.html#gaf5c3b2dedc950d34e0381946fbb32428">EZLCD_INIT_SPI()</a> macro.</li>
<li>The user has set the MCU's SPI pins to inputs and outputs appropriately. <br/>
<br/>
<ul>
<li>SS_BAR = OUTPUT</li>
<li>SCK = OUTPUT</li>
<li>MOSI = OUTPUT</li>
<li>MISO = INPUT </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga2703acb78f30f5f5841e57bc4fc3433d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ezLCD_deactivate_all_buttons </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function deactivates all buttons so that they no longer respond to touch. However, it does not remove their image from the screen or frame.</p>
<dl class="section user"><dt>Assumptions </dt><dd><ul>
<li>The user has initialized the MCU's SPI interface with the <a class="el" href="group__ez_l_c_d__103__common.html#gaf5c3b2dedc950d34e0381946fbb32428">EZLCD_INIT_SPI()</a> macro.</li>
<li>The user has set the MCU's SPI pins to inputs and outputs appropriately. <br/>
<br/>
<ul>
<li>SS_BAR = OUTPUT</li>
<li>SCK = OUTPUT</li>
<li>MOSI = OUTPUT</li>
<li>MISO = INPUT </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga7a75d5eee32dcdaa37e84543ba495409"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ezLCD_set_button_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ez_l_c_d__103__common.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ez_l_c_d__103__buttons.html#ga3fc35c16ecc254c03c2ad1171f346390">ezLCD_button_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the display state of a button and therefore changes the button's image on the screen (if supplied).</p>
<dl class="section user"><dt>Parameters </dt><dd><ul>
<li><em>id</em> = The ID of the button whose state is to be changed.</li>
<li><em>state</em> = The desired button state. </li>
</ul>
</dd></dl>
<dl class="section user"><dt>Assumptions </dt><dd><ul>
<li>The chosen ID number is unique and is from 0 to 63 only.</li>
<li><a class="el" href="group__ez_l_c_d__103__buttons.html#ga3f871a762082490a6541a935cf89d757">ezLCD_set_touch_protocol()</a> has been called at least once.</li>
<li>The user has initialized the MCU's SPI interface with the <a class="el" href="group__ez_l_c_d__103__common.html#gaf5c3b2dedc950d34e0381946fbb32428">EZLCD_INIT_SPI()</a> macro.</li>
<li>The user has set the MCU's SPI pins to inputs and outputs appropriately. <br/>
<br/>
<ul>
<li>SS_BAR = OUTPUT</li>
<li>SCK = OUTPUT</li>
<li>MOSI = OUTPUT</li>
<li>MISO = INPUT </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga3f871a762082490a6541a935cf89d757"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ezLCD_set_touch_protocol </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ez_l_c_d__103__buttons.html#ga443e2c0a5a29b361119b0fcad0841362">ezLCD_touch_protocol_t</a>&#160;</td>
          <td class="paramname"><em>protocol</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the touch protocol for the entire screen. That is, this setting applies to all buttons placed on the screen and not just one button.</p>
<dl class="section user"><dt>Parameters </dt><dd><ul>
<li><em>protocol</em> = An enumerated type indicating the desired touch protocol. The three possible parameters are <b>ezButton</b>,<b>cuButton</b>,or <b>calibratedXY</b>. </li>
</ul>
</dd></dl>
<dl class="section user"><dt>Assumptions </dt><dd><ul>
<li>The user has initialized the MCU's SPI interface with the <a class="el" href="group__ez_l_c_d__103__common.html#gaf5c3b2dedc950d34e0381946fbb32428">EZLCD_INIT_SPI()</a> macro.</li>
<li>The user has set the MCU's SPI pins to inputs and outputs appropriately. <br/>
<br/>
<ul>
<li>SS_BAR = OUTPUT</li>
<li>SCK = OUTPUT</li>
<li>MOSI = OUTPUT</li>
<li>MISO = INPUT </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga21ff3ce106612692fd840bc2bf8bde82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ez_l_c_d__103__common.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> ezLCD_wait_for_event </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is provided as an example of how one can poll the screen for button events. When called, this function waits indefinitely for a button to be pressed and then released before returning. The function changes button state image in accordance with the button's status. So when any button is pressed, it will paint that button's EZLCD_BUTTON_DOWN image to the screen in place of its EZLCD_BUTTON_UP image. It will do the opposite when the button is released and only then will it return the pressed button's ID. <b>IT IS STRONGLY RECOMMENDED THAT THE USER STUDY THIS FUNCTION IN DEPTH SO THAT THEY MAY WRITE THEIR OWN FUNCTIONS TO DETECT BUTTON PRESSES SINCE THIS FUNCTION MAY NOT BE SUITABLE FOR ALL APPLICATIONS</b>. This function only works with the ezButton protocol.</p>
<dl class="section user"><dt>Assumptions </dt><dd><ul>
<li>The selected touch protocol is ezButton.</li>
<li>The buttons being polled are initially in the EZLCD_BUTTON_UP state.</li>
<li>The user has initialized the MCU's SPI interface with the <a class="el" href="group__ez_l_c_d__103__common.html#gaf5c3b2dedc950d34e0381946fbb32428">EZLCD_INIT_SPI()</a> macro.</li>
<li>The user has set the MCU's SPI pins to inputs and outputs appropriately. <br/>
<br/>
<ul>
<li>SS_BAR = OUTPUT</li>
<li>SCK = OUTPUT</li>
<li>MOSI = OUTPUT</li>
<li>MISO = INPUT </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>-Returns the ID of he pressed button </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 20 2013 20:49:19 for ezLCD+103 Driver by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
